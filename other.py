from aiogram import types, Dispatcher
from create_bot import dp, bot
import json, string
from note import FAM, the_date
import case_admin

@dp.message_handler()
async def echo_send(message: types.Message):
    if {i.lower().translate(str.maketrans('', '', string.punctuation)) for i in message.text.split(' ')} \
            .intersection(set(json.load(open('censorship.json')))) != set():
        await message.reply('–ú–∞—Ç—é–∫–∏ –≤ —á–∞—Ç—ñ –∑–∞–±–æ—Ä–æ–Ω–µ–Ω—ñ!')
        await message.delete()
    elif {i.lower().translate(str.maketrans('', '', string.punctuation)) for i in message.text.split(' ')} \
            .intersection(set(json.load(open('cens_english.json')))) != set():
        await message.reply('Profanity is prohibited in the chat!')
        await message.delete()
    elif message.text == '–°–ª–∞–≤–∞ –£–∫—Ä–∞—ó–Ω—ñ!':
        await message.answer('–ì–µ—Ä–æ—è–º –°–ª–∞–≤–∞!')

    elif message.text == '–ê–ª—è—Å–∫–∞':
        with open('alaska_price.txt', 'r') as ap:
            a = float(ap.read())
        text_ = f"{a} –≥—Ä–Ω\n" \
                f"–ê–ª—è—Å–∫–∞ - –∫—Ä–∏—à—Ç–∞–ª–µ–≤–æ —á–∏—Å—Ç–∞ –≤–æ–¥–∞, –∑ —ñ–¥–µ–∞–ª—å–Ω–∏–º –±–∞–ª–∞–Ω—Å–æ–º –∫–æ—Ä–∏—Å–Ω–∏—Ö –º—ñ–Ω–µ—Ä–∞–ª—ñ–≤. " \
                f"–°—Ä—ñ–±–Ω–∏–π –ø—Ä–∏–∑–µ—Ä –º—ñ–∂–Ω–∞—Ä–æ–¥–Ω–æ–≥–æ –∫–æ–Ω–∫—É—Ä—Å—É Gourmet Waters —É 2017 —Ä–æ—Ü—ñ. " \
                f"–û–±'—î–º –±—É—Ç–ª—è - 18,9–ª\n" \
                f"–ö–ª—é—á–æ–≤—ñ –ø–µ—Ä–µ–≤–∞–≥–∏ –Ω–µ–≥–∞–∑–æ–≤–∞–Ω–æ—ó –ø–∏—Ç–Ω–æ—ó –≤–æ–¥–∏ ¬´–ê–ª—è—Å–∫–∞¬ª:\n–ó–∞–≤–¥—è–∫–∏ –ø–æ—Ö–æ–¥–∂–µ–Ω–Ω—é –∑ " \
                f"–ø—ñ–¥–∑–µ–º–Ω–∏—Ö –¥–∂–µ—Ä–µ–ª —Ç–∞ —Å–≤–µ—Ä–¥–ª–æ–≤–∏–Ω –µ–∫–æ–ª–æ–≥—ñ—á–Ω–æ —á–∏—Å—Ç–∏—Ö —Ä–∞–π–æ–Ω—ñ–≤ –£–∫—Ä–∞—ó–Ω–∏ (–ú–∏—Ä–≥–æ—Ä–æ–¥, –ú–æ—Ä—à–∏–Ω, –ì–æ–ª–∞ –ü—Ä–∏—Å—Ç–∞–Ω—å), " \
                f"–¥–∞–ª–µ–∫–æ –≤—ñ–¥ –≤–∏—Ä–æ–±–Ω–∏—Ü—Ç–≤, –≤–æ–Ω–∞ –∑–±–∞–≥–∞—á–µ–Ω–∞ –ø—Ä–∏—Ä–æ–¥–Ω–∏–º–∏ –º—ñ–Ω–µ—Ä–∞–ª–∞–º–∏ —Ç–∞ –∫–æ—Ä–∏—Å–Ω–∏–º–∏ –º—ñ–∫—Ä–æ–µ–ª–µ–º–µ–Ω—Ç–∞–º–∏.\n" \
                f"–†–µ—Ç–µ–ª—å–Ω–µ –æ—á–∏—â–µ–Ω–Ω—è –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –Ω–∞ –Ω–æ–≤–∏—Ö —Ñ—ñ–ª—å—Ç—Ä–∞—Ö, –∑–±–µ—Ä—ñ–≥–∞—é—á–∏ –ø—Ä–∏—Ä–æ–¥–Ω—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤–æ–¥–∏.\n" \
                f"–ü—Ä–æ—Ö–æ–¥–∏—Ç—å –±–∞–≥–∞—Ç–æ—Å—Ç—É–ø—ñ–Ω—á–∞—Å—Ç–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å —è–∫–æ—Å—Ç—ñ (8 –µ—Ç–∞–ø—ñ–≤), —Ç–æ–º—É –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î " \
                f"–º—ñ–∂–Ω–∞—Ä–æ–¥–Ω–∏–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º –±–µ–∑–ø–µ–∫–∏ –ø—Ä–æ–¥—É–∫—Ü—ñ—ó ISO 22000.\n" \
                f"–í–æ–¥—É ¬´–ê–ª—è—Å–∫–∞¬ª –≤–∞—Ä—Ç–æ –∫—É–ø–∏—Ç–∏ —Ç–æ–º—É, —â–æ –≤–æ–Ω–∞ –Ω–µ –∑–∞–ª–∏—à–∞—î –æ—Å–∞–¥—É —Ç–∞ –Ω–∞–ª—å–æ—Ç—É –Ω–∞ —á–∞–π–Ω–∏–∫—É –ø—ñ–¥ —á–∞—Å –∫–∏–ø'—è—Ç—ñ–Ω–Ω—è.\n" \
                f"–ü—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è –ø–∏—Ç—Ç—è —Ç–∞ –ø—Ä–∏–≥–æ—Ç—É–≤–∞–Ω–Ω—è —á–∞—é, –∫–∞–≤–∏, —ñ–Ω—à–∏—Ö –Ω–∞–ø–æ—ó–≤ —Ç–∞ —ó–∂—ñ, –Ω–µ –≤–ø–ª–∏–≤–∞—î –Ω–∞ —Å–º–∞–∫ –ø—Ä–æ–¥—É–∫—Ç—ñ–≤.\n" \
                f"–í–æ–¥—É ¬´–ê–ª—è—Å–∫–∞¬ª –º–æ–∂–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —É –∫–∞–≤–æ–º–∞—à–∏–Ω–∞—Ö –¥–ª—è –ø—Ä–∏–≥–æ—Ç—É–≤–∞–Ω–Ω—è —Å–º–∞—á–Ω–æ—ó –∫–∞–≤–∏, " \
                f"–ø—Ä–∏ —Ü—å–æ–º—É —Ç–µ—Ö–Ω—ñ–∫–∞ –Ω–µ –ø—Å—É—î—Ç—å—Å—è –≤—ñ–¥ –æ—Å–∞–¥—É."
        with open('–ê–ª—è—Å–∫–∞.png', 'rb') as photo:
            await message.answer_photo(photo)
        await message.answer(text_)
        await message.delete()

    elif message.text == '–ú–æ—Ä—à–∏–Ω—Å—å–∫–∞':
        with open('morshin_price.txt', 'r') as mp:
            m = float(mp.read())
        text_ = f'{m} –≥—Ä–Ω\n' \
                f'–ú–æ—Ä—à–∏–Ω—Å—å–∫–∞ 18,9–ª ‚Äì –º—ñ–Ω–µ—Ä–∞–ª—å–Ω–∞ –ø—Ä–∏—Ä–æ–¥–Ω–∞ —Å—Ç–æ–ª–æ–≤–∞ –≤–æ–¥–∞, –∑—ñ ' \
                f'–∑–±–∞–ª–∞–Ω—Å–æ–≤–∞–Ω–∏–º —Å–∫–ª–∞–¥–æ–º, —è–∫–∞ –ø–æ–≤–Ω—ñ—Å—Ç—é —Å–ø—Ä–∏–π–º–∞—î—Ç—å—Å—è —Ç—ñ–ª–æ–º —ñ –≤—ñ–¥–Ω–æ–≤–ª—é—î –π–æ–≥–æ ' \
                f'—â–æ–¥–Ω—è. –í–æ–¥–∞ –ø–æ—Ö–æ–¥–∏—Ç—å –∑ –º–æ—Ä—à–∏–Ω—Å—å–∫–æ—ó –¥–æ–ª–∏–Ω–∏, —â–æ —Ä–æ–∑–∫–∏–Ω—É–ª–∞—Å—å –ø–æ–±–ª–∏–∑—É —Å—Ö—ñ–¥–Ω–æ–≥–æ ' \
                f'—Å—Ö–∏–ª—É –ö–∞—Ä–ø–∞—Ç—Å—å–∫–æ–≥–æ —Ö—Ä–µ–±—Ç–∞ —Ç–∞ —Å–∞–º–æ—Ç—É–∂–∫–∏ –ø—Ä–æ–∫–ª–∞–¥–∞—î —Å–æ–±—ñ —à–ª—è—Ö –Ω–∞ –ø–æ–≤–µ—Ä—Ö–Ω—é –∑–µ–º–ª—ñ. ' \
                f'–ú–æ—Ä—à–∏–Ω—Å—å–∫–∞ –æ–±—Ä–æ–±–ª—è—î—Ç—å—Å—è –≤–∏–∫–ª—é—á–Ω–æ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –º–µ—Ö–∞–Ω—ñ—á–Ω–æ—ó —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó, ' \
                f'—â–æ –Ω–µ –ø–æ—Ä—É—à—É—î —ó—ó –ø—Ä–∏—Ä–æ–¥–Ω–∏–π —Å–∫–ª–∞–¥. –¶—ñ–Ω–∞ –ú–æ—Ä—à–∏–Ω—Å—å–∫–æ—ó 18,9 –ª ' \
                f'–Ω–∞–±–∞–≥–∞—Ç–æ –≤–∏–≥—ñ–¥–Ω—ñ—à–∞ –∑–∞ –ø–æ–∫—É–ø–∫—É –≤–æ–¥–∏ –≤ –ø–ª—è—à–∫–∞—Ö. –î–æ —Ç–æ–≥–æ –∂ –±—É—Ç–∏–ª—å–æ–≤–∞–Ω—É –≤–æ–¥—É ' \
                f'–Ω–∞–±–∞–≥–∞—Ç–æ –∑—Ä—É—á–Ω—ñ—à–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —É –ø–æ–±—É—Ç—ñ –≤–¥–æ–º–∞ —Ç–∞ –≤ –æ—Ñ—ñ—Å–∞—Ö. –ë—É—Ç–ª—ñ –±–∞–≥–∞—Ç–æ—Ä–∞–∑–æ–≤—ñ ' \
                f'—Ç–∞ –¥–æ–ø–æ–º–∞–≥–∞—é—Ç—å –∑–Ω–∏–∑–∏—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–ª–∞—Å—Ç–∏–∫—É.'
        with open('–ú–æ—Ä—à–∏–Ω—Å–∫–∞—è.png', 'rb') as photo:
            await message.answer_photo(photo)
        await message.answer(text_)
        await message.delete()

    elif message.text == '–ü–æ–º–ø–∞':
        with open('pompa_price.txt', 'r') as pp:
            p = float(pp.read())
        text_ = f'{p} –≥—Ä–Ω\n' \
                f'–î–æ –∫–æ–º–ø–ª–µ–∫—Ç—É —Ä–∞–∑–æ–º —ñ–∑ –ø–æ–º–ø–æ—é –≤—Ö–æ–¥—è—Ç—å: –Ω–æ—Å–∏–∫ –¥–ª—è —Ä–æ–∑–ª–∏–≤—É –≤–æ–¥–∏, —Ç—Ä–∏ —Ç—Ä—É–±–∫–∏ –¥–ª—è ' \
                f'–Ω–∞–±–æ—Ä—É —Ç–∞ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ñ —Ä—É–∫–∞–≤–∏—á–∫–∏ –¥–ª—è –≥—ñ–≥—ñ—î–Ω—ñ—á–Ω–æ—Å—Ç—ñ –≤–≤–µ–¥–µ–Ω–Ω—è –ø—Ä–∏—Å—Ç—Ä–æ—é –≤ –µ–∫—Å–ø–ª—É–∞—Ç–∞—Ü—ñ—é.\n' \
                f'–•–ê–†–ê–ö–¢–ï–†–ò–°–¢–ò–ö–ò\n' \
                f'–í–ê–ì–ê 340–≥\n' \
                f'–†–û–ó–ú–Ü–†–ò 21–•13–•13 –°–ú\n' \
                f'–ü–†–ò–ó–ù–ê–ß–ï–ù–ù–Ø –î–õ–Ø –ü–û–î–ê–ß–Ü –í–û–î–ò –ó –ë–£–¢–õ–Ü–í 18,9 –õ\n' \
                f'–ú–ê–¢–ï–†–Ü–ê–õ –Ø–ö–Ü–°–ù–ò–ô –Ü –ë–ï–ó–ü–ï–ß–ù–ò–ô –ü–õ–ê–°–¢–ò–ö, –©–û –ù–ï –í–ü–õ–ò–í–ê–Ñ –ù–ê –°–ú–ê–ö–û–í–Ü –í–õ–ê–°–¢–ò–í–û–°–¢–Ü –ü–ò–¢–ù–û–á –í–û–î–ò\n' \
                f'–ö–†–ê–á–ù–ê –í–ò–†–û–ë–ù–ò–ö –¢–£–†–ï–ß–ß–ò–ù–ê\n' \
                f'–ì–ê–†–ê–ù–¢–Ü–Ø 12 –ú–Ü–°'
        with open('–ü–æ–º–ø–∞.png', 'rb') as photo:
            await message.answer_photo(photo)
        await message.answer(text_)
        await message.delete()

    elif message.text == '–ö—É–ª–µ—Ä–∏':
        with open('–∫—É–ª–µ—Ä_price.txt', 'r') as pp:
            p = float(pp.read())
        text_ = f'–≤—ñ–¥ {p} –≥—Ä–Ω\n' \
                f'–≤–µ—Å—å –∞—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π —Ç—É—Ç:\n' \
                f'https://mywatershop.ua/catalog/kulery/\n' \
                f'–ö–æ–Ω—Ç–∞–∫—Ç –¥–ª—è –ø–æ–≥–æ–¥–∂–µ–Ω–Ω—è —É–º–æ–≤ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è:\n' \
                f'@OlgaBeshlyaga'
        with open('–ö—É–ª–µ—Ä.png', 'rb') as photo:
            await message.answer_photo(photo)
        await message.answer(text_)
        await message.delete()

    elif message.text == '/Price' and message.from_user.id in FAM:
        with open('alaska_price.txt', 'r') as ap:
            alaska_p = float((ap.read()))
        with open('morshin_price.txt', 'r') as mp:
            morshin_p = float((mp.read()))
        with open('bottle_price.txt', 'r') as bp:
            bottle_p = float((bp.read()))
        with open('pompa_price.txt', 'r') as bp:
            pompa_p = float((bp.read()))
        with open('–∫—É–ª–µ—Ä_price.txt', 'r') as kp:
            kuler_p = float((kp.read()))
        report = f'Aqua-Berezivka\n' \
                 f'–¶—ñ–Ω–∏ —Å—Ç–∞–Ω–æ–º –Ω–∞ {the_date}:\n\n' \
                 f'–≤–æ–¥–∞ –ê–ª—è—Å–∫–∞ 18,9–ª = {alaska_p} –≥—Ä–Ω\n' \
                 f'–≤–æ–¥–∞ –ú–æ—Ä—à–∏–Ω—Å—å–∫–∞ 18,9n = {morshin_p}\n' \
                 f'–ø–æ—Ä–æ–∂–Ω—ñ–π –±—É—Ç–ª—å 18,9n =  {bottle_p} –≥—Ä–Ω\n' \
                 f'–ü–æ–º–ø–∞ –º–µ—Ö–∞–Ω—ñ—á–Ω–∞ = {pompa_p} –≥—Ä–Ω\n' \
                 f'–ö—É–ª–µ—Ä–∏ –≤—ñ–¥ = {kuler_p} –≥—Ä–Ω'
        await message.answer(report)
        await message.delete()

    for n in message.text.split(' '):
        if n == '777' and message.from_user.id in FAM:
            await bot.send_message(message.from_user.id,
                                   '–í—ã–ø–∏—Å–∞—Ç—å —Å—á–µ—Ç –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞:\n/Rahunok\n\n'
                                   '–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ü–µ–Ω—ã –Ω–∞ —Ç–æ–≤–∞—Ä—ã:\n/Price'
                                   '\n\n–ü–æ–º–µ–Ω—è—Ç—å —Ü–µ–Ω—ã –Ω–∞ —Ç–æ–≤–∞—Ä—ã:\n'
                                   '/–¶—ñ–Ω–∏\n\n–ü–æ–º–µ–Ω—è—Ç—å —Ñ–æ—Ç–æ —Ç–æ–≤–∞—Ä–æ–≤:'
                                   '\n/–§–æ—Ç–æ\n\n–ü–æ–º–µ–Ω—è—Ç—å —É—Å–ª–æ–≤–∏—è –¥–æ—Å—Ç–∞–≤–∫–∏:\n/–î–æ—Å—Ç–∞–≤–∫–∞\n\n'
                                   '–ò–∑–º–µ–Ω–∏—Ç—å —Ç–µ–∫—Å—Ç —Ä–∞—Å—Å—ã–ª–∫–∏ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤:\n/–¢–µ–∫—Å—Ç'
                                   '\n\n–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ä–∞—Å—Å—ã–ª–∫—É –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤:\n/Fire'
                                   '\n\n–°–∫–ª–∞–¥ –ø—Ä–∏—Ö–æ–¥\—Ä–∞—Å—Ö–æ–¥:'
                                   '\n/Sklad\n\n–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ—Å—Ç–∞—Ç–∫–∏ –ø–æ —Å–∫–ª–∞–¥—É:'
                                   '\n/Ostatki', reply_markup=case_admin.button_case_admin)
            await message.delete()
            break
        elif n.lower() == '–ø—Ä–∏–≤—ñ—Ç' or n.lower() == '–ø—Ä–∏–≤—ñ—Ç!' or n.lower() == '–¥–æ–±—Ä–æ–≥–æ' \
                or n.lower() == 'hi' or n.lower() == 'hello' or n.lower() == 'hi!' \
                or n.lower() == 'hello!' or n.lower() == '–ø—Ä–∏–≤–µ—Ç' \
                or n.lower() == '–ø—Ä–∏–≤–µ—Ç!' or n.lower() == '–¥–æ–±—Ä—ã–π':
            await message.reply('üëã')
            break
